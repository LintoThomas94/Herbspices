<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Account</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #fff; font-family: Arial, sans-serif; }
    .signup-container { min-height: 100vh; }
    .signup-image { background: url('/project/images/signup%20page%20img.jpg') no-repeat center center; background-size: cover; }
    .form-section { padding: 50px; max-width: 500px; margin: auto; }
    .form-section h3 { font-weight: bold; margin-bottom: 20px; }
    .form-control { border-radius: 0; box-shadow: none; }
    .btn-black { background-color: #000; color: #fff; border-radius: 0; }
    .btn-black:hover { background-color: #333; color: #fff; }
    .btn-google { border: 1px solid #ccc; border-radius: 0; background: #fff; }
    .btn-google img { width: 20px; margin-right: 8px; }
    .small-text { font-size: 14px; }
    .error-message { color: red; font-size: 0.75rem; display: none; }
  </style>
</head>
<body>
  <div class="container-fluid signup-container">
    <div class="row">
      <div class="col-md-6 signup-image d-none d-md-block"></div>
      <div class="col-md-6 d-flex align-items-center">
        <div class="form-section w-100">
          <h3>Create an account</h3>
          <p class="small-text">Enter your details below</p>
          <form id="signform" method="post" action="/signup">
            <div class="row mb-3">
              <div class="col">
                <input type="text" class="form-control" name="firstname" id="firstname" placeholder="First Name" required>
                <div id="error1" class="error-message"></div>
              </div>
              <div class="col">
                <input type="text" class="form-control" name="lastname" id="lastname" placeholder="Last Name" required>
                <div id="error2" class="error-message"></div>
              </div>
            </div>
            <div class="mb-3">
              <input type="tel" class="form-control" name="phone" id="phone" placeholder="Phone" required>
              <div id="error3" class="error-message"></div>
            </div>
            <div class="mb-3">
              <input type="email" class="form-control" name="email" id="email" placeholder="Email" required>
              <div id="error4" class="error-message"></div>
            </div>
            <div class="mb-3">
              <input type="password" class="form-control" name="password" id="password" placeholder="Password" required>
              <div id="error5" class="error-message"></div>
            </div>
            <div class="mb-3">
              <input type="password" class="form-control" name="confirmpassword" id="confirmpassword" placeholder="Confirm Password" required>
              <div id="error6" class="error-message"></div>
            </div>
            <div class="d-grid mb-3">
              <button type="submit" class="btn btn-black">Create Account</button>
            </div>
            <div class="d-grid mb-3">
              <button type="button" class="btn btn-google d-flex align-items-center justify-content-center">
                <img src="/project/images/google%20sign%20in.jpg" alt="Google"> 
                Sign up with Google
              </button>
            </div>
            <p class="text-center small-text">
              Already have an account? <a href="login.html">Log in</a>
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
<%- include("../../views/partials/user/footer") %>


<script>
const firstnameid = document.getElementById("firstname");
const lastnameid = document.getElementById("lastname");
const emailid = document.getElementById("email");
const phoneid = document.getElementById("phone");
const passid = document.getElementById("password");
const confirmpassid = document.getElementById("confirmpassword");
const error1 = document.getElementById("error1");
const error2 = document.getElementById("error2");
const error3 = document.getElementById("error3");
const error4 = document.getElementById("error4");
const error5 = document.getElementById("error5");
const error6 = document.getElementById("error6");
const signform = document.getElementById("signform");

function firstnameValidateChecking () {
  const firstnameval = firstnameid.value;
  const firstnamepattern = /^[A-Za-z\s]+$/;
  if(firstnameval.trim() === ""){
    error1.style.display = "block";
    error1.innerHTML = "Please enter a valid first name";
  } else if (!firstnamepattern.test(firstnameval)) {
    error1.style.display = "block";
    error1.innerHTML = "Name can only contain alphabets";
  } else {
    error1.style.display = "none";
    error1.innerHTML = "";
  }
}

function lastnameValidateChecking () {
  const lastnameval = lastnameid.value;
  const lastnamepattern = /^[A-Za-z\s]+$/;
  if(lastnameval.trim() === ""){
    error2.style.display = "block";
    error2.innerHTML = "Please enter a valid last name";
  } else if (!lastnamepattern.test(lastnameval)) {
    error2.style.display = "block";
    error2.innerHTML = "Name can only contain alphabets";
  } else {
    error2.style.display = "none";
    error2.innerHTML = "";
  }
}

function phoneValidateChecking () {
  const phoneval = phoneid.value;
  const phonePattern = /^[0-9]{10}$/;
  if(!phonePattern.test(phoneval)){
    error3.style.display = "block";
    error3.innerHTML = "Enter a valid 10 digit phone number";
  } else {
    error3.style.display = "none";
    error3.innerHTML = "";
  }
}

function emailValidateChecking () {
  const emailval = emailid.value;
  const emailpattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
  if(emailval.trim() === ""){
    error4.style.display = "block";
    error4.innerHTML = "Email is required";
  } else if(!emailpattern.test(emailval)){
    error4.style.display = "block";
    error4.innerHTML = "Invalid email format";
  } else {
    error4.style.display = "none";
    error4.innerHTML = "";
  }
}

function passValidateChecking(){
  const passval = passid.value;
  const confirmpassval = confirmpassid.value;
  const alphabets = /[a-zA-Z]/;
  const digit = /\d/;

  if(passval.length < 8){
    error5.style.display = "block";
    error5.innerHTML = "Should contain at least 8 characters";
  } else if(!alphabets.test(passval) || !digit.test(passval)){
    error5.style.display = "block";
    error5.innerHTML = "Should contain alphabets and numbers";
  } else {
    error5.style.display = "none";
    error5.innerHTML = "";
  }

  if(passval !== confirmpassval){
    error6.style.display = "block";
    error6.innerHTML = "Passwords do not match";
  } else {
    error6.style.display = "none";
    error6.innerHTML = "";
  }
}

document.addEventListener("DOMContentLoaded", function() {
  signform.addEventListener("submit", function(e) {
    firstnameValidateChecking();
    lastnameValidateChecking();
    phoneValidateChecking();
    emailValidateChecking();
    passValidateChecking();

    if (
      error1.innerHTML ||
      error2.innerHTML ||
      error3.innerHTML ||
      error4.innerHTML ||
      error5.innerHTML ||
      error6.innerHTML 
    ) {
      e.preventDefault();
    }
  });
});
</script>
